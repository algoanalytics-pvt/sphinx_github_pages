<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>docker_enrichment package &mdash; Documentation for Fabric 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=f2a433a1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="docker_microservices package" href="docker_microservices.html" />
    <link rel="prev" title="docker_debrief package" href="docker_debrief.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Documentation for Fabric
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">fabric_backend_AWS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="docker_correlation.html">docker_correlation package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_debrief.html">docker_debrief package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">docker_enrichment package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-docker_enrichment.db_operations">docker_enrichment.db_operations module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.db_operations.fetch_config_data"><code class="docutils literal notranslate"><span class="pre">fetch_config_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.db_operations.fetch_data_from_table"><code class="docutils literal notranslate"><span class="pre">fetch_data_from_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.db_operations.get_ticker_names_and_id"><code class="docutils literal notranslate"><span class="pre">get_ticker_names_and_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.db_operations.update_table"><code class="docutils literal notranslate"><span class="pre">update_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.db_operations.upload_data"><code class="docutils literal notranslate"><span class="pre">upload_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-docker_enrichment.event_detection">docker_enrichment.event_detection module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.event_detection.find_events"><code class="docutils literal notranslate"><span class="pre">find_events()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.event_detection.find_mult_class"><code class="docutils literal notranslate"><span class="pre">find_mult_class()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-docker_enrichment.main">docker_enrichment.main module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main.aggregate_sentiment_news_level"><code class="docutils literal notranslate"><span class="pre">aggregate_sentiment_news_level()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main.get_connection"><code class="docutils literal notranslate"><span class="pre">get_connection()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main.perform_enrichment"><code class="docutils literal notranslate"><span class="pre">perform_enrichment()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-docker_enrichment.main_v5">docker_enrichment.main_v5 module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.a_intro"><code class="docutils literal notranslate"><span class="pre">a_intro()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.analyze_sentiment"><code class="docutils literal notranslate"><span class="pre">analyze_sentiment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.clean_text_new"><code class="docutils literal notranslate"><span class="pre">clean_text_new()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.compute_summary"><code class="docutils literal notranslate"><span class="pre">compute_summary()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.compute_summary_updated"><code class="docutils literal notranslate"><span class="pre">compute_summary_updated()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.event_classification"><code class="docutils literal notranslate"><span class="pre">event_classification()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.extract_org_frequency"><code class="docutils literal notranslate"><span class="pre">extract_org_frequency()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.extract_sents"><code class="docutils literal notranslate"><span class="pre">extract_sents()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.fetch_config_data"><code class="docutils literal notranslate"><span class="pre">fetch_config_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.fetch_data_from_table"><code class="docutils literal notranslate"><span class="pre">fetch_data_from_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.find_sent_with_company"><code class="docutils literal notranslate"><span class="pre">find_sent_with_company()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.get_connection"><code class="docutils literal notranslate"><span class="pre">get_connection()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.get_news_labels"><code class="docutils literal notranslate"><span class="pre">get_news_labels()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.get_sentiment_class"><code class="docutils literal notranslate"><span class="pre">get_sentiment_class()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.get_sentiment_modified"><code class="docutils literal notranslate"><span class="pre">get_sentiment_modified()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.get_ticker_names_and_id"><code class="docutils literal notranslate"><span class="pre">get_ticker_names_and_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.load_pickle_file"><code class="docutils literal notranslate"><span class="pre">load_pickle_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.perform_enrichment"><code class="docutils literal notranslate"><span class="pre">perform_enrichment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.stemming"><code class="docutils literal notranslate"><span class="pre">stemming()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.update_table"><code class="docutils literal notranslate"><span class="pre">update_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.main_v5.upload_data"><code class="docutils literal notranslate"><span class="pre">upload_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-docker_enrichment.model_loading">docker_enrichment.model_loading module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.model_loading.loading_DistilBert"><code class="docutils literal notranslate"><span class="pre">loading_DistilBert()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.model_loading.loading_event_detection_model"><code class="docutils literal notranslate"><span class="pre">loading_event_detection_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.model_loading.loading_sent_model"><code class="docutils literal notranslate"><span class="pre">loading_sent_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.model_loading.loading_summ_model"><code class="docutils literal notranslate"><span class="pre">loading_summ_model()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-docker_enrichment.new_main_v4">docker_enrichment.new_main_v4 module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.a_intro"><code class="docutils literal notranslate"><span class="pre">a_intro()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.analyze_sentiment"><code class="docutils literal notranslate"><span class="pre">analyze_sentiment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.compute_summary"><code class="docutils literal notranslate"><span class="pre">compute_summary()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.compute_summary_updated"><code class="docutils literal notranslate"><span class="pre">compute_summary_updated()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.event_classification"><code class="docutils literal notranslate"><span class="pre">event_classification()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.extract_org_frequency"><code class="docutils literal notranslate"><span class="pre">extract_org_frequency()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.extract_sents"><code class="docutils literal notranslate"><span class="pre">extract_sents()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.fetch_config_data"><code class="docutils literal notranslate"><span class="pre">fetch_config_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.fetch_data_from_table"><code class="docutils literal notranslate"><span class="pre">fetch_data_from_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.find_sent_with_company"><code class="docutils literal notranslate"><span class="pre">find_sent_with_company()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.get_connection"><code class="docutils literal notranslate"><span class="pre">get_connection()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.get_sentiment_class"><code class="docutils literal notranslate"><span class="pre">get_sentiment_class()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.get_sentiment_modified"><code class="docutils literal notranslate"><span class="pre">get_sentiment_modified()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.get_ticker_names_and_id"><code class="docutils literal notranslate"><span class="pre">get_ticker_names_and_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.perform_enrichment"><code class="docutils literal notranslate"><span class="pre">perform_enrichment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.update_table"><code class="docutils literal notranslate"><span class="pre">update_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.new_main_v4.upload_data"><code class="docutils literal notranslate"><span class="pre">upload_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-docker_enrichment.org_frequency">docker_enrichment.org_frequency module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.org_frequency.extract_org_frequency"><code class="docutils literal notranslate"><span class="pre">extract_org_frequency()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.org_frequency.time_func"><code class="docutils literal notranslate"><span class="pre">time_func()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-docker_enrichment.summarization">docker_enrichment.summarization module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.summarization.compute_summary"><code class="docutils literal notranslate"><span class="pre">compute_summary()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.summarization.compute_summary_updated"><code class="docutils literal notranslate"><span class="pre">compute_summary_updated()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-docker_enrichment.tsa">docker_enrichment.tsa module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.tsa.analyze_sentiment"><code class="docutils literal notranslate"><span class="pre">analyze_sentiment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.tsa.extract_sents"><code class="docutils literal notranslate"><span class="pre">extract_sents()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.tsa.find_sent_with_company"><code class="docutils literal notranslate"><span class="pre">find_sent_with_company()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.tsa.get_sentiment_class"><code class="docutils literal notranslate"><span class="pre">get_sentiment_class()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker_enrichment.tsa.get_sentiment_modified"><code class="docutils literal notranslate"><span class="pre">get_sentiment_modified()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-docker_enrichment">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="docker_microservices.html">docker_microservices package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_news_aggregator.html">docker_news_aggregator package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_search.html">docker_search package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_search_ec2.html">docker_search_ec2 package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_stock_ingestion.html">docker_stock_ingestion package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_stock_prediction.html">docker_stock_prediction package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_todays_sentiment.html">docker_todays_sentiment package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_topics.html">docker_topics package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_topics_earning_call_transcripts.html">docker_topics_earning_call_transcripts package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_trend_prediction.html">docker_trend_prediction package</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_tweets.html">docker_tweets package</a></li>
<li class="toctree-l2"><a class="reference internal" href="news_aggregator_API.html">news_aggregator_API package</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Documentation for Fabric</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">fabric_backend_AWS</a></li>
      <li class="breadcrumb-item active">docker_enrichment package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/docker_enrichment.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="docker-enrichment-package">
<h1>docker_enrichment package<a class="headerlink" href="#docker-enrichment-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-docker_enrichment.db_operations">
<span id="docker-enrichment-db-operations-module"></span><h2>docker_enrichment.db_operations module<a class="headerlink" href="#module-docker_enrichment.db_operations" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.db_operations.fetch_config_data">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.db_operations.</span></span><span class="sig-name descname"><span class="pre">fetch_config_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/db_operations.html#fetch_config_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.db_operations.fetch_config_data" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Args:</dt><dd><p>table (boto3.resource): The DynamoDB table object.</p>
</dd>
<dt>Returns:</dt><dd><p>list: A list of all the items in the table.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.db_operations.fetch_data_from_table">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.db_operations.</span></span><span class="sig-name descname"><span class="pre">fetch_data_from_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_attr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/db_operations.html#fetch_data_from_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.db_operations.fetch_data_from_table" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.db_operations.get_ticker_names_and_id">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.db_operations.</span></span><span class="sig-name descname"><span class="pre">get_ticker_names_and_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sectors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Config_Table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/db_operations.html#get_ticker_names_and_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.db_operations.get_ticker_names_and_id" title="Link to this definition"></a></dt>
<dd><p>Function to get ticker_id and the ticker name
Parameters:
———-</p>
<blockquote>
<div><dl class="simple">
<dt>sectors: str</dt><dd><p>Name of Sector - IT or BANK</p>
</dd>
<dt>table: str </dt><dd><p>Name of config table - algoDDB.Table(‘ConfigTable’)</p>
</dd>
</dl>
</div></blockquote>
<section id="returns">
<h3>Returns:<a class="headerlink" href="#returns" title="Link to this heading"></a></h3>
<blockquote>
<div><dl class="simple">
<dt>ticker_name: str</dt><dd><p>name of the company</p>
</dd>
</dl>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.db_operations.update_table">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.db_operations.</span></span><span class="sig-name descname"><span class="pre">update_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ner_org_freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Sentiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_events</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/db_operations.html#update_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.db_operations.update_table" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.db_operations.upload_data">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.db_operations.</span></span><span class="sig-name descname"><span class="pre">upload_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enriched_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">News_Table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/db_operations.html#upload_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.db_operations.upload_data" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-docker_enrichment.event_detection">
<span id="docker-enrichment-event-detection-module"></span><h2>docker_enrichment.event_detection module<a class="headerlink" href="#module-docker_enrichment.event_detection" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.event_detection.find_events">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.event_detection.</span></span><span class="sig-name descname"><span class="pre">find_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finbert</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_tokenizer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/event_detection.html#find_events"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.event_detection.find_events" title="Link to this definition"></a></dt>
<dd><p>find sentences containing ‘events’ from provided text
Parameters</p>
<blockquote>
<div><dl class="simple">
<dt>text: str</dt><dd><p>Text from which we need to find desired ‘events’</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Output</dt><dd><dl class="simple">
<dt>events: list of strings</dt><dd><p>sentences containing ‘events’ as a list</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.event_detection.find_mult_class">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.event_detection.</span></span><span class="sig-name descname"><span class="pre">find_mult_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer_event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">finbert</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_tokenizer</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/event_detection.html#find_mult_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.event_detection.find_mult_class" title="Link to this definition"></a></dt>
<dd><p>Take a input text sentences of ‘events’ and classifiy it into different pre-defined categories.
The categories considered are: ‘Debt’, ‘Dividend’, ‘Employment’, ‘Financial Results’ , ‘Investment &amp; Funding’ ,</p>
<blockquote>
<div><p>‘Litigation’, ‘Macroeconomics’, ‘Merger &amp; Acquisition’ , ‘Partnership &amp; JointVenture’, ‘Products &amp; Services’, 
‘Rating &amp; Recommendation’, ‘Securities Turnover’ and ‘Share Repurchase’</p>
</div></blockquote>
<section id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h3>
<p>Take a input text sentence and returns its most related category from the above. It returns ‘Other’,
if no related categories are found.</p>
</section>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Link to this heading"></a></h3>
<p>text: The input sentences as a string. (eg: a paragraph of relevent event sentences)</p>
</section>
<section id="id1">
<h3>Returns<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>Dictionary : Returns a dictionary of sentences (events), corresponding labels and its probability.</p>
</section>
</dd></dl>

</section>
<section id="module-docker_enrichment.main">
<span id="docker-enrichment-main-module"></span><h2>docker_enrichment.main module<a class="headerlink" href="#module-docker_enrichment.main" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main.aggregate_sentiment_news_level">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main.</span></span><span class="sig-name descname"><span class="pre">aggregate_sentiment_news_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentiment_analysis_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main.html#aggregate_sentiment_news_level"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main.aggregate_sentiment_news_level" title="Link to this definition"></a></dt>
<dd><p>args: List of dictionaries representing sentiment at sentence level
returns: Sentiment class and score at News level (Whole article)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main.get_connection">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main.</span></span><span class="sig-name descname"><span class="pre">get_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main.html#get_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main.get_connection" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main.perform_enrichment">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main.</span></span><span class="sig-name descname"><span class="pre">perform_enrichment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">article</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tsa_keyword</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main.html#perform_enrichment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main.perform_enrichment" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-docker_enrichment.main_v5">
<span id="docker-enrichment-main-v5-module"></span><h2>docker_enrichment.main_v5 module<a class="headerlink" href="#module-docker_enrichment.main_v5" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.a_intro">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">a_intro</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#a_intro"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.a_intro" title="Link to this definition"></a></dt>
<dd><p>This code performs the following tasks on an article:
Extracts articles from the table.
Generate summary of the article.
Use Targeted Sentiment Analysis to get only relevant lines of article where the companies name is mentioned along with it’s coreference lines.
Predict sentiment for related entities [ORG]
Detect events and classify them</p>
<dl class="simple">
<dt>CreatedBy: </dt><dd><ol class="arabic simple">
<li><p>Shreyas R Chim &lt;<a class="reference external" href="mailto:schim&#37;&#52;&#48;alagoanalytics&#46;com">schim<span>&#64;</span>alagoanalytics<span>&#46;</span>com</a>&gt;</p></li>
<li><p>Kalash Gandhi &lt;<a class="reference external" href="mailto:kgandhi&#37;&#52;&#48;algoanalytics&#46;com">kgandhi<span>&#64;</span>algoanalytics<span>&#46;</span>com</a>&gt;</p></li>
</ol>
</dd>
<dt>Updated by:</dt><dd><ol class="arabic simple">
<li><p>Nishant Tiwari &lt;<a class="reference external" href="mailto:ntiwari&#37;&#52;&#48;algoanalytics&#46;com">ntiwari<span>&#64;</span>algoanalytics<span>&#46;</span>com</a>&gt;</p></li>
<li><p>Shubham Jagtap &lt;<a class="reference external" href="mailto:sjagtap&#37;&#52;&#48;algoanalytics&#46;com">sjagtap<span>&#64;</span>algoanalytics<span>&#46;</span>com</a>&gt;</p></li>
<li><p>Anoushka Rao &lt;<a class="reference external" href="mailto:arao&#37;&#52;&#48;algoanalytics&#46;com">arao<span>&#64;</span>algoanalytics<span>&#46;</span>com</a>&gt;</p></li>
</ol>
</dd>
<dt>LastUpdatedDate: </dt><dd><p>01 Aug 2023</p>
</dd>
<dt>ChangesMadeInCode: </dt><dd><p>Added code to handle long news to avoid crashing the code.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.analyze_sentiment">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">analyze_sentiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#analyze_sentiment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.analyze_sentiment" title="Link to this definition"></a></dt>
<dd><p>Function to perform Sentiment analysis using ProsusAI/finbert tokenizer and pretrained NLP model.</p>
<p>The function will take a doc/text as input and first apply tokenizer and then calculate outputs by using model function on it. 
We will perform softmax on outputs and return numpy array of pt_predictions.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>doc (str): The input document or text to analyze.</p>
</dd>
<dt>Returns:</dt><dd><p>numpy.ndarray: Numpy array of sentiment predictions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.clean_text_new">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">clean_text_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#clean_text_new"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.clean_text_new" title="Link to this definition"></a></dt>
<dd><p>text: a string</p>
<p>return: modified initial string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.compute_summary">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">compute_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#compute_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.compute_summary" title="Link to this definition"></a></dt>
<dd><p>Compute a summary of the input text using a pre-trained summarization model.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>text (str): The input text to be summarized.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The generated summary of the input text.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.compute_summary_updated">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">compute_summary_updated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#compute_summary_updated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.compute_summary_updated" title="Link to this definition"></a></dt>
<dd><p>Compute the summary of the provided text using T5 model</p>
<dl class="simple">
<dt>Args:</dt><dd><p>text (str): The input text to summarize.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The generated summary of the input text.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.event_classification">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">event_classification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">article</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#event_classification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.event_classification" title="Link to this definition"></a></dt>
<dd><p>Tokenizes an article into sentences and predicts the events for each sentence using a pre-trained model.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>article (str): The input article as a string.</p>
</dd>
<dt>Returns:</dt><dd><p>top_2_events (list): A list of dictionaries containing the top 2 predicted events for each sentence.
all_events (list): A list of dictionaries containing all predicted events for each sentence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.extract_org_frequency">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">extract_org_frequency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">article</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#extract_org_frequency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.extract_org_frequency" title="Link to this definition"></a></dt>
<dd><p>Extracts organizations (ORG entities) from the given article and returns their frequency.</p>
<dl>
<dt>Args:</dt><dd><p>article (str): The input article to extract organizations from.</p>
</dd>
<dt>Returns:</dt><dd><p>list: A list of dictionaries, each containing the ‘entity’ (organization) and ‘frequency’ keys.</p>
</dd>
<dt>Example:</dt><dd><p>article = “An article about technology companies such as Google, Apple, and Microsoft.”
result = extract_org_frequency(article)
print(result)
Output: [{‘entity’: ‘Google’, ‘frequency’: 1}, {‘entity’: ‘Apple’, ‘frequency’: 1},</p>
<blockquote>
<div><p>{‘entity’: ‘Microsoft’, ‘frequency’: 1}]</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.extract_sents">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">extract_sents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">company_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#extract_sents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.extract_sents" title="Link to this definition"></a></dt>
<dd><p>Extract sentences addressing the target company using coreferencing.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>text (str): The news article text.
company_name (str): The target company name in lowercase.</p>
</dd>
<dt>Returns:</dt><dd><p>list: List of important lines from the news as sentences.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.fetch_config_data">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">fetch_config_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#fetch_config_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.fetch_config_data" title="Link to this definition"></a></dt>
<dd><p>Fetch configuration data from a database table.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>table: The database table object to fetch data from.</p>
</dd>
<dt>Returns:</dt><dd><p>list: A list of configuration items fetched from the table.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.fetch_data_from_table">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">fetch_data_from_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_attr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#fetch_data_from_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.fetch_data_from_table" title="Link to this definition"></a></dt>
<dd><p>Fetch data from specified table based on the provided filter attribute.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>table: The table object representing the database table to fetch data from.
filter_attr: The attribute to filter the data based on.</p>
</dd>
<dt>Returns:</dt><dd><p>list: A list of data items fetched from the table.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.find_sent_with_company">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">find_sent_with_company</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#find_sent_with_company"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.find_sent_with_company" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.get_connection">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">get_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#get_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.get_connection" title="Link to this definition"></a></dt>
<dd><p>Create and return a connection to the DynamoDB resource.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>boto3.resource: Connection to the DynamoDB resource.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.get_news_labels">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">get_news_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">article</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#get_news_labels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.get_news_labels" title="Link to this definition"></a></dt>
<dd><p>Generates class from the given article and returns them in a list.</p>
<dl>
<dt>Args:</dt><dd><p>article (str): The input article to extract organizations from.</p>
</dd>
<dt>Returns:</dt><dd><p>list: A list of classes.</p>
</dd>
<dt>Example:</dt><dd><p>article = “An article about technology companies such as Google, Apple, and Microsoft.”
result = extract_org_frequency(article)
print(result)
Output: [{‘entity’: ‘Google’, ‘frequency’: 1}, {‘entity’: ‘Apple’, ‘frequency’: 1},</p>
<blockquote>
<div><p>{‘entity’: ‘Microsoft’, ‘frequency’: 1}]</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.get_sentiment_class">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">get_sentiment_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neut</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#get_sentiment_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.get_sentiment_class" title="Link to this definition"></a></dt>
<dd><p>Determine the sentiment class based on the given sentiment scores.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>neg (float): Negative sentiment score.
pos (float): Positive sentiment score.
neut (float): Neutral sentiment score.</p>
</dd>
<dt>Returns:</dt><dd><p>str: Sentiment class (‘positive’, ‘negative’, or ‘neutral’).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.get_sentiment_modified">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">get_sentiment_modified</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#get_sentiment_modified"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.get_sentiment_modified" title="Link to this definition"></a></dt>
<dd><p>This modified function does not perform NER since the entity which we are focusing
on is the same company to which the news belongs and that has been passed as 
TSA_keyword.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>sentence(str): The sentence to perform sentiment analysis on.</p>
</dd>
<dt>Returns</dt><dd><p>dict: Sentiment analysis results including text, sentiment scores, and sentiment class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.get_ticker_names_and_id">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">get_ticker_names_and_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sectors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#get_ticker_names_and_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.get_ticker_names_and_id" title="Link to this definition"></a></dt>
<dd><p>Get ticker names based on sectors from a given table.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>sectors (list): List of sectors to filter ticker names. If ‘ALL’ is included, ticker names for all sectors are returned.
table: The table object to scan for ticker names.</p>
</dd>
<dt>Returns:</dt><dd><p>list: List of ticker names based on the specified sectors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.load_pickle_file">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">load_pickle_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#load_pickle_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.load_pickle_file" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.perform_enrichment">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">perform_enrichment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">article</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tsa_keyword</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#perform_enrichment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.perform_enrichment" title="Link to this definition"></a></dt>
<dd><p>Perform enrichment on the given article.</p>
<p>The function performs  Targeted Sentiment Analysis (TSA),
Summarization, and Event Detection on the article.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>article (str): The text of the article to perform enrichment on.
tsa_keyword (str): The targeted keyword for sentiment analysis.</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>dict: A dictionary containing the results of the enrichment process, including:</dt><dd><ul class="simple">
<li><p>‘sentiment_analysis’: The sentiment analysis results as a string.</p></li>
<li><p>‘ner_org_freq’: The organization frequency analysis results as a string.</p></li>
<li><p>‘summary’: The generated summary of the article as a string.</p></li>
<li><p>‘events’: The detected events, including all events and top 2 events, as a string.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.stemming">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">stemming</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#stemming"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.stemming" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.update_table">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">update_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ner_org_freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Sentiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">news_classes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_events</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#update_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.update_table" title="Link to this definition"></a></dt>
<dd><p>Update a table with the provided data.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>table: The table object to update.
record_id: The ID of the record to update.
record_month: The month of the record to update.
ner_org_freq: The NER organization frequency data.
Sentiment: The sentiment computed of the news/article
summary: Summary of news article.
top_events: The top events data.
all_events: The all events data.</p>
</dd>
<dt>Returns:</dt><dd><p>int: The number of records updated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.main_v5.upload_data">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.main_v5.</span></span><span class="sig-name descname"><span class="pre">upload_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enriched_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/main_v5.html#upload_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.main_v5.upload_data" title="Link to this definition"></a></dt>
<dd><p>Upload and process enriched data for a specific item.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>item (str): The type of item (e.g., “News”).
enriched_data (dict): Enriched data associated with the item.</p>
</dd>
<dt>Returns:</dt><dd><p>int: The count of records updated in the table.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-docker_enrichment.model_loading">
<span id="docker-enrichment-model-loading-module"></span><h2>docker_enrichment.model_loading module<a class="headerlink" href="#module-docker_enrichment.model_loading" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.model_loading.loading_DistilBert">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.model_loading.</span></span><span class="sig-name descname"><span class="pre">loading_DistilBert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/model_loading.html#loading_DistilBert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.model_loading.loading_DistilBert" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.model_loading.loading_event_detection_model">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.model_loading.</span></span><span class="sig-name descname"><span class="pre">loading_event_detection_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/model_loading.html#loading_event_detection_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.model_loading.loading_event_detection_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.model_loading.loading_sent_model">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.model_loading.</span></span><span class="sig-name descname"><span class="pre">loading_sent_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/model_loading.html#loading_sent_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.model_loading.loading_sent_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.model_loading.loading_summ_model">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.model_loading.</span></span><span class="sig-name descname"><span class="pre">loading_summ_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/model_loading.html#loading_summ_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.model_loading.loading_summ_model" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-docker_enrichment.new_main_v4">
<span id="docker-enrichment-new-main-v4-module"></span><h2>docker_enrichment.new_main_v4 module<a class="headerlink" href="#module-docker_enrichment.new_main_v4" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.a_intro">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">a_intro</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#a_intro"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.a_intro" title="Link to this definition"></a></dt>
<dd><p>This code performs the following tasks on an article:
Extracts articles from the table.
Generate summary of the article.
Use Targeted Sentiment Analysis to get only relevant lines of article where the companies name is mentioned along with it’s coreference lines.
Predict sentiment for related entities [ORG]
Detect events and classify them</p>
<dl class="simple">
<dt>CreatedBy: </dt><dd><ol class="arabic simple">
<li><p>Shreyas R Chim &lt;<a class="reference external" href="mailto:schim&#37;&#52;&#48;alagoanalytics&#46;com">schim<span>&#64;</span>alagoanalytics<span>&#46;</span>com</a>&gt;</p></li>
<li><p>Kalash Gandhi &lt;<a class="reference external" href="mailto:kgandhi&#37;&#52;&#48;algoanalytics&#46;com">kgandhi<span>&#64;</span>algoanalytics<span>&#46;</span>com</a>&gt;</p></li>
</ol>
</dd>
<dt>Updated by:</dt><dd><ol class="arabic simple">
<li><p>Nishant Tiwari &lt;<a class="reference external" href="mailto:ntiwari&#37;&#52;&#48;algoanalytics&#46;com">ntiwari<span>&#64;</span>algoanalytics<span>&#46;</span>com</a>&gt;</p></li>
<li><p>Shubham Jagtap &lt;<a class="reference external" href="mailto:sjagtap&#37;&#52;&#48;algoanalytics&#46;com">sjagtap<span>&#64;</span>algoanalytics<span>&#46;</span>com</a>&gt;</p></li>
<li><p>Anoushka Rao &lt;<a class="reference external" href="mailto:arao&#37;&#52;&#48;algoanalytics&#46;com">arao<span>&#64;</span>algoanalytics<span>&#46;</span>com</a>&gt;</p></li>
</ol>
</dd>
<dt>LastUpdatedDate: </dt><dd><p>7th July 2023</p>
</dd>
<dt>ChangesMadeInCode: </dt><dd><p>Added docstrings</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.analyze_sentiment">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">analyze_sentiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#analyze_sentiment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.analyze_sentiment" title="Link to this definition"></a></dt>
<dd><p>Function to perform Sentiment analysis using ProsusAI/finbert tokenizer and pretrained NLP model.</p>
<p>The function will take a doc/text as input and first apply tokenizer and then calculate outputs by using model function on it. 
We will perform softmax on outputs and return numpy array of pt_predictions.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>doc (str): The input document or text to analyze.</p>
</dd>
<dt>Returns:</dt><dd><p>numpy.ndarray: Numpy array of sentiment predictions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.compute_summary">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">compute_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#compute_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.compute_summary" title="Link to this definition"></a></dt>
<dd><p>Compute a summary of the input text using a pre-trained summarization model.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>text (str): The input text to be summarized.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The generated summary of the input text.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.compute_summary_updated">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">compute_summary_updated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#compute_summary_updated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.compute_summary_updated" title="Link to this definition"></a></dt>
<dd><p>Compute the summary of the provided text using T5 model</p>
<dl class="simple">
<dt>Args:</dt><dd><p>text (str): The input text to summarize.</p>
</dd>
<dt>Returns:</dt><dd><p>str: The generated summary of the input text.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.event_classification">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">event_classification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">article</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#event_classification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.event_classification" title="Link to this definition"></a></dt>
<dd><p>Tokenizes an article into sentences and predicts the events for each sentence using a pre-trained model.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>article (str): The input article as a string.</p>
</dd>
<dt>Returns:</dt><dd><p>top_2_events (list): A list of dictionaries containing the top 2 predicted events for each sentence.
all_events (list): A list of dictionaries containing all predicted events for each sentence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.extract_org_frequency">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">extract_org_frequency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">article</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#extract_org_frequency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.extract_org_frequency" title="Link to this definition"></a></dt>
<dd><p>Extracts organizations (ORG entities) from the given article and returns their frequency.</p>
<dl>
<dt>Args:</dt><dd><p>article (str): The input article to extract organizations from.</p>
</dd>
<dt>Returns:</dt><dd><p>list: A list of dictionaries, each containing the ‘entity’ (organization) and ‘frequency’ keys.</p>
</dd>
<dt>Example:</dt><dd><p>article = “An article about technology companies such as Google, Apple, and Microsoft.”
result = extract_org_frequency(article)
print(result)
Output: [{‘entity’: ‘Google’, ‘frequency’: 1}, {‘entity’: ‘Apple’, ‘frequency’: 1},</p>
<blockquote>
<div><p>{‘entity’: ‘Microsoft’, ‘frequency’: 1}]</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.extract_sents">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">extract_sents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">company_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#extract_sents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.extract_sents" title="Link to this definition"></a></dt>
<dd><p>Extract sentences addressing the target company using coreferencing.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>text (str): The news article text.
company_name (str): The target company name in lowercase.</p>
</dd>
<dt>Returns:</dt><dd><p>list: List of important lines from the news as sentences.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.fetch_config_data">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">fetch_config_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#fetch_config_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.fetch_config_data" title="Link to this definition"></a></dt>
<dd><p>Fetch configuration data from a database table.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>table: The database table object to fetch data from.</p>
</dd>
<dt>Returns:</dt><dd><p>list: A list of configuration items fetched from the table.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.fetch_data_from_table">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">fetch_data_from_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_attr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#fetch_data_from_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.fetch_data_from_table" title="Link to this definition"></a></dt>
<dd><p>Fetch data from specified table based on the provided filter attribute.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>table: The table object representing the database table to fetch data from.
filter_attr: The attribute to filter the data based on.</p>
</dd>
<dt>Returns:</dt><dd><p>list: A list of data items fetched from the table.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.find_sent_with_company">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">find_sent_with_company</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#find_sent_with_company"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.find_sent_with_company" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.get_connection">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">get_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#get_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.get_connection" title="Link to this definition"></a></dt>
<dd><p>Create and return a connection to the DynamoDB resource.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>boto3.resource: Connection to the DynamoDB resource.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.get_sentiment_class">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">get_sentiment_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neut</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#get_sentiment_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.get_sentiment_class" title="Link to this definition"></a></dt>
<dd><p>Determine the sentiment class based on the given sentiment scores.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>neg (float): Negative sentiment score.
pos (float): Positive sentiment score.
neut (float): Neutral sentiment score.</p>
</dd>
<dt>Returns:</dt><dd><p>str: Sentiment class (‘positive’, ‘negative’, or ‘neutral’).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.get_sentiment_modified">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">get_sentiment_modified</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#get_sentiment_modified"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.get_sentiment_modified" title="Link to this definition"></a></dt>
<dd><p>This modified function does not perform NER since the entity which we are focusing
on is the same company to which the news belongs and that has been passed as 
TSA_keyword.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>sentence(str): The sentence to perform sentiment analysis on.</p>
</dd>
<dt>Returns</dt><dd><p>dict: Sentiment analysis results including text, sentiment scores, and sentiment class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.get_ticker_names_and_id">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">get_ticker_names_and_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sectors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#get_ticker_names_and_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.get_ticker_names_and_id" title="Link to this definition"></a></dt>
<dd><p>Get ticker names based on sectors from a given table.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>sectors (list): List of sectors to filter ticker names. If ‘ALL’ is included, ticker names for all sectors are returned.
table: The table object to scan for ticker names.</p>
</dd>
<dt>Returns:</dt><dd><p>list: List of ticker names based on the specified sectors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.perform_enrichment">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">perform_enrichment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">article</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tsa_keyword</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#perform_enrichment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.perform_enrichment" title="Link to this definition"></a></dt>
<dd><p>Perform enrichment on the given article.</p>
<p>The function performs  Targeted Sentiment Analysis (TSA),
Summarization, and Event Detection on the article.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>article (str): The text of the article to perform enrichment on.
tsa_keyword (str): The targeted keyword for sentiment analysis.</p>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt>dict: A dictionary containing the results of the enrichment process, including:</dt><dd><ul class="simple">
<li><p>‘sentiment_analysis’: The sentiment analysis results as a string.</p></li>
<li><p>‘ner_org_freq’: The organization frequency analysis results as a string.</p></li>
<li><p>‘summary’: The generated summary of the article as a string.</p></li>
<li><p>‘events’: The detected events, including all events and top 2 events, as a string.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.update_table">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">update_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ner_org_freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Sentiment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_events</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#update_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.update_table" title="Link to this definition"></a></dt>
<dd><p>Update a table with the provided data.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>table: The table object to update.
record_id: The ID of the record to update.
record_month: The month of the record to update.
ner_org_freq: The NER organization frequency data.
Sentiment: The sentiment computed of the news/article
summary: Summary of news article.
top_events: The top events data.
all_events: The all events data.</p>
</dd>
<dt>Returns:</dt><dd><p>int: The number of records updated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.new_main_v4.upload_data">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.new_main_v4.</span></span><span class="sig-name descname"><span class="pre">upload_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enriched_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/new_main_v4.html#upload_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.new_main_v4.upload_data" title="Link to this definition"></a></dt>
<dd><p>Upload and process enriched data for a specific item.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>item (str): The type of item (e.g., “News”).
enriched_data (dict): Enriched data associated with the item.</p>
</dd>
<dt>Returns:</dt><dd><p>int: The count of records updated in the table.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-docker_enrichment.org_frequency">
<span id="docker-enrichment-org-frequency-module"></span><h2>docker_enrichment.org_frequency module<a class="headerlink" href="#module-docker_enrichment.org_frequency" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.org_frequency.extract_org_frequency">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.org_frequency.</span></span><span class="sig-name descname"><span class="pre">extract_org_frequency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">article</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nlp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/org_frequency.html#extract_org_frequency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.org_frequency.extract_org_frequency" title="Link to this definition"></a></dt>
<dd><p>Extracts organizations (ORG entities) from the given article and returns their frequency.</p>
<dl>
<dt>Args:</dt><dd><p>article (str): The input article to extract organizations from.</p>
</dd>
<dt>Returns:</dt><dd><p>list: A list of dictionaries, each containing the ‘entity’ (organization) and ‘frequency’ keys.</p>
</dd>
<dt>Example:</dt><dd><p>article = “An article about technology companies such as Google, Apple, and Microsoft.”
result = extract_org_frequency(article)
print(result)
Output: [{‘entity’: ‘Google’, ‘frequency’: 1}, {‘entity’: ‘Apple’, ‘frequency’: 1},</p>
<blockquote>
<div><p>{‘entity’: ‘Microsoft’, ‘frequency’: 1}]</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.org_frequency.time_func">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.org_frequency.</span></span><span class="sig-name descname"><span class="pre">time_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/org_frequency.html#time_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.org_frequency.time_func" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-docker_enrichment.summarization">
<span id="docker-enrichment-summarization-module"></span><h2>docker_enrichment.summarization module<a class="headerlink" href="#module-docker_enrichment.summarization" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.summarization.compute_summary">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.summarization.</span></span><span class="sig-name descname"><span class="pre">compute_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summarization_tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summarization_model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/summarization.html#compute_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.summarization.compute_summary" title="Link to this definition"></a></dt>
<dd><p>Compute the summary of the provided text</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.summarization.compute_summary_updated">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.summarization.</span></span><span class="sig-name descname"><span class="pre">compute_summary_updated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summarization_tokenizer_t5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summarization_model_t5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/summarization.html#compute_summary_updated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.summarization.compute_summary_updated" title="Link to this definition"></a></dt>
<dd><p>Compute the summary of the provided text</p>
</dd></dl>

</section>
<section id="module-docker_enrichment.tsa">
<span id="docker-enrichment-tsa-module"></span><h2>docker_enrichment.tsa module<a class="headerlink" href="#module-docker_enrichment.tsa" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.tsa.analyze_sentiment">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.tsa.</span></span><span class="sig-name descname"><span class="pre">analyze_sentiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_sentiment</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/tsa.html#analyze_sentiment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.tsa.analyze_sentiment" title="Link to this definition"></a></dt>
<dd><p>Function to perform Sentiment analysis using ProsusAI/finbert tokenizer and pretrained NLP model.</p>
<p>The function will take a doc/text as input and first apply tokenizer and then calculate outputs by using model function on it. 
We will perform softmax on outputs and return numpy array of pt_predictions.
Parameters</p>
<blockquote>
<div><blockquote>
<div><ol class="arabic simple">
<li><p>doc : a single string</p></li>
</ol>
</div></blockquote>
<blockquote>
<div><p>pt_predictions.detach().numpy(): numpy array of pt_predictions</p>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.tsa.extract_sents">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.tsa.</span></span><span class="sig-name descname"><span class="pre">extract_sents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">company_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nlp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/tsa.html#extract_sents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.tsa.extract_sents" title="Link to this definition"></a></dt>
<dd><p>This function is extracting sentences addressing the target company using coreferencing</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.tsa.find_sent_with_company">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.tsa.</span></span><span class="sig-name descname"><span class="pre">find_sent_with_company</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keyword</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/tsa.html#find_sent_with_company"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.tsa.find_sent_with_company" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.tsa.get_sentiment_class">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.tsa.</span></span><span class="sig-name descname"><span class="pre">get_sentiment_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">neg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neut</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/tsa.html#get_sentiment_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.tsa.get_sentiment_class" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="docker_enrichment.tsa.get_sentiment_modified">
<span class="sig-prename descclassname"><span class="pre">docker_enrichment.tsa.</span></span><span class="sig-name descname"><span class="pre">get_sentiment_modified</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sentence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_sentiment</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/docker_enrichment/tsa.html#get_sentiment_modified"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#docker_enrichment.tsa.get_sentiment_modified" title="Link to this definition"></a></dt>
<dd><p>This modified function does not perform NER since the entity which we are focusing
on is the same company to which the news belongs and that has been passed as 
TSA_keyword.</p>
<dl class="simple">
<dt>Parameters</dt><dd><ol class="arabic simple">
<li><p>sentence: str</p></li>
</ol>
</dd>
</dl>
<section id="id2">
<h3>Returns<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<blockquote>
<div><ol class="arabic simple">
<li><p>sentiment_analysis : dict</p></li>
</ol>
</div></blockquote>
</section>
</dd></dl>

</section>
<section id="module-docker_enrichment">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-docker_enrichment" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="docker_debrief.html" class="btn btn-neutral float-left" title="docker_debrief package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="docker_microservices.html" class="btn btn-neutral float-right" title="docker_microservices package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Algo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>